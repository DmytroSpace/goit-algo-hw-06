import networkx as nx
import matplotlib.pyplot as plt

G = nx.Graph()

# Додавання вершин (міст)
G.add_nodes_from(["Ковель", "Луцьк", "Дубно", "Тернопіль", "Чернівці", "Львів", "Рівне", "Житомир", "Київ", "Полтава", "Харків",
                   "Ужгород", "Мукачево", "Стрий", "Хмельницький", "Вінниця", "Умань", "Кропивницький", "Дніпро", "Донецьк",
                   "Дебальцеве", "Луганськ", "Чернігів", "Біла Церква", "Одеса", "Миколаїв", "Херсон", "Мелітополь", "Маріуполь",
                    "Запоріжжя", "Джанкой", "Сімферополь", "Ялта"])

# Додавання ребер (зв'язків між містами)
G.add_edges_from([
    # 1. Ковель-Луцьк-Дубно-Тернопіль-Чернівці
    ("Ковель", "Луцьк"), ("Луцьк", "Дубно"), ("Дубно", "Тернопіль"), ("Тернопіль", "Чернівці"),
    
    # 2. Львів-Дубно-Рівне-Житомир-Київ-Полтава-Харків
    ("Львів", "Дубно"), ("Дубно", "Рівне"), ("Рівне", "Житомир"), ("Житомир", "Київ"),
    ("Київ", "Полтава"), ("Полтава", "Харків"),
    
    # 3. Ужгород-Мукачево-Стрий-Тернопіль-Хмельницький-Вінниця-Умань-Кропивницький-Дніпро-Донецьк-Дебальцеве-Луганськ
    ("Ужгород", "Мукачево"), ("Мукачево", "Стрий"), ("Стрий", "Тернопіль"), 
    ("Тернопіль", "Хмельницький"), ("Хмельницький", "Вінниця"), ("Вінниця", "Умань"),
    ("Умань", "Кропивницький"), ("Кропивницький", "Дніпро"), ("Дніпро", "Донецьк"),
    ("Донецьк", "Дебальцеве"), ("Дебальцеве", "Луганськ"),
    
    # 4. Чернігів-Київ-Біла Церква-Умань-Одеса
    ("Чернігів", "Київ"), ("Київ", "Біла Церква"), ("Біла Церква", "Умань"), ("Умань", "Одеса"),
    
    # 5. Одеса-Миколаїв-Херсон-Мелітополь-Маріуполь
    ("Одеса", "Миколаїв"), ("Миколаїв", "Херсон"), ("Херсон", "Мелітополь"), ("Мелітополь", "Маріуполь"),
    
    # 6. Харків-Дніпро-Запоріжжя-Мелітополь-Джанкой-Сімферополь-Ялта
    ("Харків", "Дніпро"), ("Дніпро", "Запоріжжя"), ("Запоріжжя", "Мелітополь"),
    ("Мелітополь", "Джанкой"), ("Джанкой", "Сімферополь"), ("Сімферополь", "Ялта"),
    
    # Додаткові зв'язки
    ("Львів", "Стрий"), ("Житомир", "Вінниця"), ("Донецьк", "Маріуполь"), ("Херсон", "Джанкой"),
    ("Харків", "Дебальцеве"), ("Полтава", "Кропивницький")
])

# Координати міст (широта, довгота)
positions = {
    "Ковель": (25.1, 51.2), "Луцьк": (25.3, 50.7), "Дубно": (25.7, 50.4), "Тернопіль": (25.6, 49.6),
    "Чернівці": (25.9, 48.3), "Львів": (24.0, 49.8), "Рівне": (26.2, 50.6), "Житомир": (28.7, 50.3),
    "Київ": (30.5, 50.4), "Полтава": (34.5, 49.6), "Харків": (36.2, 50.0),
    "Ужгород": (22.3, 48.6), "Мукачево": (22.7, 48.4), "Стрий": (23.5, 49.3),
    "Хмельницький": (27.0, 49.4), "Вінниця": (28.5, 49.2), "Умань": (30.2, 48.7),
    "Кропивницький": (32.3, 48.5), "Дніпро": (35.0, 48.4), "Донецьк": (37.8, 48.0),
    "Дебальцеве": (38.4, 48.3), "Луганськ": (39.3, 48.6), "Чернігів": (31.3, 51.5),
    "Біла Церква": (30.0, 49.8), "Одеса": (30.7, 46.5), "Миколаїв": (31.9, 46.9),
    "Херсон": (32.6, 46.6), "Мелітополь": (35.3, 46.8), "Маріуполь": (37.5, 47.1),
    "Запоріжжя": (35.2, 47.8), "Джанкой": (34.4, 45.7), "Сімферополь": (34.1, 44.9),
    "Ялта": (34.2, 44.5)
}


nx.draw(G, pos=positions, with_labels=True, node_color='skyblue', font_weight='medium')  # Візуємо граф
plt.show()

num_nodes = G.number_of_nodes()
num_edges = G.number_of_edges()

print(f"Кількість вершин дорівнює: {num_nodes}")
print(f"Кількість ребер дорівнює: {num_edges}")


degrees = dict(G.degree)                                                               # Виводимо ступені вершин у порядку спадання
sorted_degrees = sorted(degrees.items(), key=lambda x: x[1], reverse=True)

print("Ступені вершин (у порядку спадання):")
for city, degree in sorted_degrees:
    print(f"{city}: {degree}")